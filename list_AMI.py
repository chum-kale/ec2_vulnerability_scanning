import boto3

ec2 = boto3.client('ec2')

filters = [
    {
        'Name' : 'state',
        'Values' : ['available']
    },
    {
        'Name' : 'platform',
        'Values' : ['linux']
    }
]

response = ec2.describe_images(Filters = filters)
image_ids = [image['ImageId'] for image in response['Images']]

output = '/home/tushar/temp_work/ami_list.txt'

with open(output, 'w') as file:
    for image_id in image_ids:
        file.write(image_id + '\n')
